<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference · OpPoDyn.jl</title><meta name="title" content="API Reference · OpPoDyn.jl"/><meta property="og:title" content="API Reference · OpPoDyn.jl"/><meta property="twitter:title" content="API Reference · OpPoDyn.jl"/><meta name="description" content="Documentation for OpPoDyn.jl."/><meta property="og:description" content="Documentation for OpPoDyn.jl."/><meta property="twitter:description" content="Documentation for OpPoDyn.jl."/><meta property="og:url" content="https://juliaenergy.github.io/OpPoDyn.jl/API/"/><meta property="twitter:url" content="https://juliaenergy.github.io/OpPoDyn.jl/API/"/><link rel="canonical" href="https://juliaenergy.github.io/OpPoDyn.jl/API/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">OpPoDyn.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../ModelingConcepts/">Modeling Concepts</a></li><li><a class="tocitem" href="../initialization/">Initialization</a></li><li class="is-active"><a class="tocitem" href>API Reference</a><ul class="internal"><li><a class="tocitem" href="#Modeling-Tools"><span>Modeling Tools</span></a></li><li><a class="tocitem" href="#Powerflow-Tools"><span>Powerflow Tools</span></a></li><li><a class="tocitem" href="#Initialization"><span>Initialization</span></a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../generated/ieee9bus/">IEEE 9Bus Example</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaEnergy/OpPoDyn.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/main/docs/src/API.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Reference"><a class="docs-heading-anchor" href="#API-Reference">API Reference</a><a id="API-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-Reference" title="Permalink"></a></h1><h2 id="Modeling-Tools"><a class="docs-heading-anchor" href="#Modeling-Tools">Modeling Tools</a><a id="Modeling-Tools-1"></a><a class="docs-heading-anchor-permalink" href="#Modeling-Tools" title="Permalink"></a></h2><h3 id="Constructors-for-ND-Models"><a class="docs-heading-anchor" href="#Constructors-for-ND-Models">Constructors for ND Models</a><a id="Constructors-for-ND-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Constructors-for-ND-Models" title="Permalink"></a></h3><p>Those functions help you to bridge from MTK models to NetworkDynamics.jl Models:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.Bus" href="#OpPoDyn.Bus"><code>OpPoDyn.Bus</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Bus(sys::ODESystem; verbose=false, name=getname(sys), kwargs...)</code></pre><p>Create a VertexModel from an ODESystem that satisfies the bus model interface.</p><p><strong>Arguments</strong></p><ul><li><code>sys::ODESystem</code>: The system must satisfy the bus model interface (see <a href="#OpPoDyn.isbusmodel"><code>isbusmodel</code></a>)</li><li><code>verbose::Bool=false</code>: Enable verbose output during creation</li><li><code>name</code>: Name for the bus (defaults to system name)</li><li><code>kwargs...</code>: Additional keyword arguments passed to the Bus constructor</li></ul><p><strong>Returns</strong></p><ul><li>A <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.VertexModel-Tuple%7B%7D"><code>VertexModel</code></a> representing the bus</li></ul><pre><code class="language-julia hljs">
                                          ╔═════════════════════════╗
                                          ║ VertexModel (compiled)  ║
    ┌────────────────────┐      Network   ║  ┌────────────────────┐ ║
    │MTKBus   ┌─────────┐│     interface  ║  │MTKBus   ┌─────────┐│ ║
    │        ┌┤Generator││                ║  │        ┌┤Generator││ ║
    │┌──────┐│└─────────┘│      current ────→│┌──────┐│└─────────┘│ ║
Bus(││BusBar├o           │) =&gt;            ║  ││BusBar├o           │ ║
    │└──────┘│┌────┐     │      voltage ←────│└──────┘│┌────┐     │ ║
    │        └┤Load│     │                ║  │        └┤Load│     │ ║
    │         └────┘     │                ║  │         └────┘     │ ║
    └────────────────────┘                ║  └────────────────────┘ ║
                                          ╚═════════════════════════╝</code></pre><p>See also: <a href="#OpPoDyn.MTKBus"><code>MTKBus</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/network_components.jl#L5-L36">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.Line" href="#OpPoDyn.Line"><code>OpPoDyn.Line</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Line(sys::ODESystem; verbose=false, name=getname(sys), kwargs...)</code></pre><p>Create an EdgeModel from an ODESystem that satisfies the line model interface.</p><p><strong>Arguments</strong></p><ul><li><code>sys::ODESystem</code>: The system must satisfy the line model interface (see <a href="#OpPoDyn.islinemodel"><code>islinemodel</code></a>)</li><li><code>verbose::Bool=false</code>: Enable verbose output during creation</li><li><code>name</code>: Name for the line (defaults to system name)</li><li><code>kwargs...</code>: Additional keyword arguments passed to the Line constructor</li></ul><p><strong>Returns</strong></p><ul><li>An <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.EdgeModel-Tuple%7B%7D"><code>EdgeModel</code></a> representing the line</li></ul><pre><code class="language-julia hljs">
                                             ╔══════════════════════════════╗
                                             ║ EdgeModel (compiled)         ║
     ┌─────────────────────────────┐     src ║ ┌──────────────────────────┐ ║ dst
     │MTKLine   ┌───────┐          │  vertex ║ │MTKLine   ┌────┐          │ ║ vertex
     │         ┌┤BranchA├┐         │         ║ │         ┌┤    ├┐         │ ║
     │┌───────┐│└───────┘│┌───────┐│     u ───→│┌───────┐│└────┘│┌───────┐│←─── u
Line(││LineEnd├o         o┤LineEnd││) =&gt;     ║ ││LineEnd├o      o┤LineEnd││ ║
     │└───────┘│┌───────┐│└───────┘│     i ←───│└───────┘│┌────┐│└───────┘│───→ i
     │  :src   └┤BranchB├┘  :dst   │         ║ │         └┤    ├┘         │ ║
     │          └───────┘          │         ║ │          └────┘          │ ║
     └─────────────────────────────┘         ║ └──────────────────────────┘ ║
                                             ╚══════════════════════════════╝</code></pre><p>See also: <a href="#OpPoDyn.MTKLine"><code>MTKLine</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/network_components.jl#L90-L123">source</a></section></article><h3 id="Basic-Component-Modeling"><a class="docs-heading-anchor" href="#Basic-Component-Modeling">Basic Component Modeling</a><a id="Basic-Component-Modeling-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Component-Modeling" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.Terminal" href="#OpPoDyn.Terminal"><code>OpPoDyn.Terminal</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Terminal</code></pre><p>A ModelingToolkit connector for electrical terminals in power system components.</p><p>Represents an electrical connection point with complex voltage and current in dq coordinates. The terminal defines the interface between power system components like buses, lines, and machines.</p><p><strong>Variables</strong></p><ul><li><code>u_r(t)</code>: d-axis voltage component</li><li><code>u_i(t)</code>: q-axis voltage component</li><li><code>i_r(t)</code>: d-axis current component (flow variable)</li><li><code>i_i(t)</code>: q-axis current component (flow variable)</li></ul><p><strong>Notes</strong></p><p>Current variables are defined as flow variables, meaning they sum to zero at connection points according to Kirchhoff&#39;s current law.</p><p>See also: <a href="#OpPoDyn.BusBar"><code>BusBar</code></a>, <a href="#OpPoDyn.LineEnd"><code>LineEnd</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/modeling_tools.jl#L1-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.BusBar" href="#OpPoDyn.BusBar"><code>OpPoDyn.BusBar</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@named busbar = BusBar()</code></pre><p>A ModelingToolkit model representing the physical connection point within a bus in power systems. It represents the physical busbar where all injectors and lines attach.</p><p>Within OpPoDyn.jl, it serves as an interface between the MTK world and the NetworkDynamics world: A MTK model containing a <code>BusBar</code> the highest level is consdered a busmodel (see <a href="#OpPoDyn.isbusmodel"><code>isbusmodel</code></a>) and describes the dynamics of an entire bus. It can be transformed in a <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.VertexModel-Tuple%7B%7D"><code>VertexModel</code></a> by calling <a href="#OpPoDyn.Bus"><code>Bus</code></a>.</p><p>See also: <a href="../ModelingConcepts/#Terminal"><code>Terminal</code></a>, <a href="#OpPoDyn.MTKBus"><code>MTKBus</code></a>, <a href="#OpPoDyn.Bus"><code>Bus</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/modeling_tools.jl#L55-L68">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.LineEnd" href="#OpPoDyn.LineEnd"><code>OpPoDyn.LineEnd</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LineEnd</code></pre><p>A ModelingToolkit model representing one end of a transmission line in power systems. It represents the physical connection point at the end of a transmission line.</p><p>Within OpPoDyn.jl, it serves as an interface between the MTK world and the NetworkDynamics world: A MTK model containing two <code>LineEnd</code>s (named <code>:src</code> and <code>:dst</code>) at the highest level is considered a linemodel (see <a href="#OpPoDyn.islinemodel"><code>islinemodel</code></a>) and describes the dynamics of an entire line. It can be transformed in an <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.EdgeModel-Tuple%7B%7D"><code>EdgeModel</code></a> by calling <a href="#OpPoDyn.Line"><code>Line</code></a>.</p><p>See also: <a href="../ModelingConcepts/#Terminal"><code>Terminal</code></a>, <a href="#OpPoDyn.MTKLine"><code>MTKLine</code></a>, <a href="#OpPoDyn.Line"><code>Line</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/modeling_tools.jl#L82-L96">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.MTKBus" href="#OpPoDyn.MTKBus"><code>OpPoDyn.MTKBus</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MTKBus(injectors...; name=:bus)</code></pre><p>Create a ModelingToolkit bus system by connecting multiple injector components.</p><p>Constructs a bus ODESystem by connecting all provided injector components to a central <a href="#OpPoDyn.BusBar"><code>BusBar</code></a>. Each injector component must satisfy the injector model interface (see <a href="#OpPoDyn.isinjectormodel"><code>isinjectormodel</code></a>).</p><p><strong>Arguments</strong></p><ul><li><code>injectors...</code>: Variable number of injector components (generators, loads, etc.)</li><li><code>name=:bus</code>: Name for the resulting bus system</li></ul><p><strong>Returns</strong></p><ul><li>An <code>ODESystem</code> representing the complete bus with all connected injectors</li></ul><pre><code class="language-julia hljs">                                 ┌────────────────────┐
                                 │MTKBus   ┌─────────┐│
                                 │        ┌┤Generator││
        ┌─────────┐   ┌────┐     │┌──────┐│└─────────┘│
MTKBus(o┤Generator│, o┤Load│) =&gt; ││BusBar├o           │
        └─────────┘   └────┘     │└──────┘│┌────┐     │
                                 │        └┤Load│     │
                                 │         └────┘     │
                                 └────────────────────┘</code></pre><p>See also: <a href="#OpPoDyn.Bus"><code>Bus</code></a>, <a href="#OpPoDyn.BusBar"><code>BusBar</code></a>, <a href="#OpPoDyn.isinjectormodel"><code>isinjectormodel</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/modeling_tools.jl#L128-L157">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.MTKLine" href="#OpPoDyn.MTKLine"><code>OpPoDyn.MTKLine</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MTKLine(branches...; name=:line)</code></pre><p>Create a ModelingToolkit line system by connecting multiple branch components.</p><p>Constructs a line ODESystem by connecting all provided branch components between source and destination line ends in parallel. Each branch component must satisfy the branch model interface.</p><p><strong>Arguments</strong></p><ul><li><code>branches...</code>: Variable number of branch components (transmission lines, transformers, etc.)</li><li><code>name=:line</code>: Name for the resulting line system</li></ul><p><strong>Returns</strong></p><ul><li>An <code>ODESystem</code> representing the complete line with all connected branches</li></ul><pre><code class="language-julia hljs">                                     ┌─────────────────────────────┐
                                     │MTKLine   ┌───────┐          │
                                     │         ┌┤BranchA├┐         │
         ┌───────┐    ┌───────┐      │┌───────┐│└───────┘│┌───────┐│
MTKLine(o┤BranchA├o, o┤BranchB├o) =&gt; ││LineEnd├o         o┤LineEnd││
         └───────┘    └───────┘      │└───────┘│┌───────┐│└───────┘│
                                     │  :src   └┤BranchB├┘  :dst   │
                                     │          └───────┘          │
                                     └─────────────────────────────┘</code></pre><p>See also: <a href="#OpPoDyn.Line"><code>Line</code></a>, <a href="#OpPoDyn.LineEnd"><code>LineEnd</code></a>, <a href="#OpPoDyn.isbranchmodel"><code>isbranchmodel</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/modeling_tools.jl#L167-L196">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.CompositeInjector" href="#OpPoDyn.CompositeInjector"><code>OpPoDyn.CompositeInjector</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CompositeInjector(systems, eqs=autoconnections(systems); name=Symbol(join(getname.(systems), &quot;_&quot;)))</code></pre><p>Create an injector object which contains several subsystems. Every subsystem which has a <code>terminal</code> will be connected to a newly created terminal of the composite injector. The subsystems are namespaced within the composite injector.</p><p>There are two options for additional connections between the subsystems:</p><ul><li>interconnections will be created automatically using some name-matching heuristics using <code>autoconnections(systems)</code>: It searches all <code>Blocks.RealOutput</code> and <code>Blocks.RealInput</code>, and tries to find a single matching output for each input.</li><li>alternatively pass connecting equations of the form <code>[connect(sys1.output, sys2.input)]</code> explicitly</li></ul><p>For example, one could create a composite injector with three subsystems:</p><ul><li>a generator,</li><li>a controller, and</li><li>a load;</li></ul><p>which is augmented with 2 connection equations</p><ul><li>one for the measurements (generator -&gt; controller), and</li><li>one for the actuation (controller -&gt; generator).</li></ul><p>The returned model contains a new terminal <code>:terminal</code> at the toplevel, thus satisfying the injector interface, see <a href="#OpPoDyn.isinjectormodel"><code>isinjectormodel</code></a>). It can be used as such in the <a href="#OpPoDyn.MTKBus"><code>MTKBus</code></a> constructor.</p><pre><code class="language-julia hljs">    ┌────────────────────────────────────┐
    │ CompositeInjector                  │
    │              ╭───→───╮ measurements│
    │    ┌─────────┴─┐   ┌─┴──────────┐  │
(t) │  o─┤ Generator │   │ Controller │  │
 o──┼──┤ └─────────┬─┘   └─┬──────────┘  │
    │  │           ╰───←───╯ actuation   │
    │  │ ┌──────┐                        │
    │  o─┤ Load │                        │
    │    └──────┘                        │
    └────────────────────────────────────┘</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/modeling_tools.jl#L231-L266">source</a></section></article><h3 id="Helpers"><a class="docs-heading-anchor" href="#Helpers">Helpers</a><a id="Helpers-1"></a><a class="docs-heading-anchor-permalink" href="#Helpers" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.isbusmodel" href="#OpPoDyn.isbusmodel"><code>OpPoDyn.isbusmodel</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">isbusmodel(sys::ODESystem)</code></pre><p>Check if an ODESystem satisfies the bus model interface.</p><p>A bus model must contain a component named <code>:busbar</code> that satisfies the busbar interface. Bus models represent the complete dynamics of a power system bus and can be transformed into a <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.VertexModel-Tuple%7B%7D"><code>VertexModel</code></a> using <a href="#OpPoDyn.Bus"><code>Bus</code></a>.</p><pre><code class="language-julia hljs">┌───────────────────────────┐
│BusModel     ┌────────────┐│
│           ┌─┤ Injector 1 ││
│┌────────┐ │ └────────────┘│
││ BusBar ├─o               │
│└────────┘ │               │
│ :busbar   └ ...           │
│                           │
└───────────────────────────┘</code></pre><p>Note: The BusModel musst contain exaclty one <code>BusBar</code>, the rest of the structure is free. For example, you could also put a Brach between an injector and a Busbar or have multiple injectors and controllers connected.</p><p>See also: <a href="#OpPoDyn.Bus"><code>Bus</code></a>, <a href="#OpPoDyn.BusBar"><code>BusBar</code></a>, <a href="#OpPoDyn.MTKBus"><code>MTKBus</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/interfaces.jl#L47-L73">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.isinjectormodel" href="#OpPoDyn.isinjectormodel"><code>OpPoDyn.isinjectormodel</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">isinjectormodel(sys::ODESystem)</code></pre><p>Check if an ODESystem satisfies the injector model interface.</p><p>An injector model must contain a <a href="../ModelingConcepts/#Terminal"><code>Terminal</code></a> named <code>:terminal</code>. Injector models represent components like generators, loads, and other devices that connect to a single bus. They can have arbitrary internal complexity as long as they have exactly one terminal.</p><pre><code class="language-julia hljs">   (t)    ┌──────────┐
    o─────┤ Injector │
:terminal └──────────┘</code></pre><p>See also: <a href="../ModelingConcepts/#Terminal"><code>Terminal</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/interfaces.jl#L7-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.islinemodel" href="#OpPoDyn.islinemodel"><code>OpPoDyn.islinemodel</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">islinemodel(sys::ODESystem)</code></pre><p>Check if an ODESystem satisfies the line model interface.</p><p>A line model must contain two components named <code>:src</code> and <code>:dst</code> that both satisfy the line end interface. Line models represent transmission lines and can be transformed into an <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.EdgeModel-Tuple%7B%7D"><code>EdgeModel</code></a> using <a href="#OpPoDyn.Line"><code>Line</code></a>.</p><pre><code class="language-julia hljs">┌──────────────────────────────────────┐
│LineModel     ┌────────┐              │
│            ┌─┤ Branch ├─┐            │
│┌─────────┐ │ └────────┘ │ ┌─────────┐│
││ LineEnd ├─o            o─┤ LineEnd ││
│└─────────┘ │            │ └─────────┘│
│   :src     └    ....    ┘    :dst    │
│                                      │
└──────────────────────────────────────┘</code></pre><p>Note: Between the <code>LineEnd</code>s there can be arbeitrary structures, for example branches in series or parallel.</p><p>See also: <a href="#OpPoDyn.Line"><code>Line</code></a>, <a href="#OpPoDyn.LineEnd"><code>LineEnd</code></a>, <a href="#OpPoDyn.MTKBus"><code>MTKBus</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/interfaces.jl#L94-L118">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.isbranchmodel" href="#OpPoDyn.isbranchmodel"><code>OpPoDyn.isbranchmodel</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">isbranchmodel(sys::ODESystem)</code></pre><p>Check if an ODESystem satisfies the branch model interface.</p><p>A branch model must contain two <a href="../ModelingConcepts/#Terminal"><code>Terminal</code></a> components named <code>:src</code> and <code>:dst</code>. Branch models represent two-port network elements like transmission lines, transformers, and other connecting devices.</p><pre><code class="language-julia hljs"> (t) ┌────────┐ (t)
  o──┤ Branch ├──o
:src └────────┘ :dst</code></pre><p>See also: <a href="../ModelingConcepts/#Terminal"><code>Terminal</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/interfaces.jl#L141-L157">source</a></section></article><h2 id="Powerflow-Tools"><a class="docs-heading-anchor" href="#Powerflow-Tools">Powerflow Tools</a><a id="Powerflow-Tools-1"></a><a class="docs-heading-anchor-permalink" href="#Powerflow-Tools" title="Permalink"></a></h2><h3 id="Powerflow-Components"><a class="docs-heading-anchor" href="#Powerflow-Components">Powerflow Components</a><a id="Powerflow-Components-1"></a><a class="docs-heading-anchor-permalink" href="#Powerflow-Components" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.pfSlack" href="#OpPoDyn.pfSlack"><code>OpPoDyn.pfSlack</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">pfSlack(; V=missing, δ=missing, u_r=missing, u_i=missing)</code></pre><p>Create a slack bus for power flow analysis.</p><p>A slack bus maintains constant voltage magnitude and phase angle (or real and imaginary voltage components). Either provide voltage magnitude <code>V</code> and phase angle <code>δ</code>, or provide real and imaginary voltage components <code>u_r</code> and <code>u_i</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/powerflow.jl#L1-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.pfPV" href="#OpPoDyn.pfPV"><code>OpPoDyn.pfPV</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">pfPV(; P, V)</code></pre><p>Create a PV bus for power flow analysis.</p><p>A PV bus maintains constant active power injection and voltage magnitude. The reactive power and voltage phase angle are determined by the power flow solution.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/powerflow.jl#L27-L34">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.pfPQ" href="#OpPoDyn.pfPQ"><code>OpPoDyn.pfPQ</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">pfPQ(; P=0, Q=0)</code></pre><p>Create a PQ bus for power flow analysis.</p><p>A PQ bus has specified active and reactive power injections. The voltage magnitude and phase angle are determined by the power flow solution.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/powerflow.jl#L43-L50">source</a></section></article><h3 id="Powerflow-Helpers"><a class="docs-heading-anchor" href="#Powerflow-Helpers">Powerflow Helpers</a><a id="Powerflow-Helpers-1"></a><a class="docs-heading-anchor-permalink" href="#Powerflow-Helpers" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.solve_powerflow" href="#OpPoDyn.solve_powerflow"><code>OpPoDyn.solve_powerflow</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">solve_powerflow(nw::Network;
                pfnw = powerflow_model(nw),
                pfs0 = NWState(nw),
                verbose=true)</code></pre><p>Solve the power flow equations for a given network.</p><p>Uses <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.find_fixpoint"><code>find_fixpoint</code></a> from NetworkDynamics to solve the algebraic power flow equations.</p><p><strong>Parameters</strong></p><ul><li><code>nw</code>: The dynamic network model</li><li><code>pfnw</code>: The power flow network model (default: created from <code>nw</code>)</li><li><code>pfs0</code>: Initial state for the power flow calculation</li><li><code>verbose</code>: Whether to print the power flow solution</li></ul><p><strong>Returns</strong></p><ul><li>A <code>NWState</code> containing the solved power flow solution</li></ul><p>See also <a href="#OpPoDyn.initialize_from_pf"><code>initialize_from_pf</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/powerflow.jl#L131-L151">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.initialize_from_pf" href="#OpPoDyn.initialize_from_pf"><code>OpPoDyn.initialize_from_pf</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">initialize_from_pf[!](
    nw::Network;
    verbose = true,
    subverbose = false,
    pfnw = powerflow_model(nw),
    pfs0 = NWState(pfnw),
    pfs = solve_powerflow(pfnw; pfs0, verbose),
    kwargs...
)</code></pre><p>Initialize a dynamic network model from a power flow solution.</p><p>This function performs a two-step initialization process:</p><ol><li>Solve the power flow equations for the network</li><li>Use the power flow solution to initialize the dynamic model</li></ol><p>There are two versions of this function: a mutating one (!-at the end of name) and a non-mutating version. The mutating version uses <code>initialize_componentwise!</code> internally, the non-mutating one <code>initialize_componentwise</code>. When the mutating version is used, <code>NWState(nw)</code> after initialization will return the same initialized state again, as it is stored in the metadata.</p><p><strong>Parameters</strong></p><ul><li><code>nw</code>: The dynamic network model to initialize</li><li><code>verbose</code>: Whether to print information about the power flow solution (default: true)</li><li><code>subverbose</code>: Whether to print detailed information during component initialization (default: false). Can be Vector [VIndex(1), EIndex(3), ...] for selective output</li><li><code>pfnw</code>: Power flow network model (default: created from <code>nw</code> using <code>powerflow_model</code>)</li><li><code>pfs0</code>: Initial state for power flow calculation (default: created from <code>pfnw</code>)</li><li><code>pfs</code>: Power flow solution (default: calculated using <code>solve_powerflow</code>)</li><li>Additional keyword arguments are passed to <code>initialize_componentwise[!]</code></li></ul><p><strong>Returns</strong></p><ul><li>A fully initialized network state</li></ul><p>See also: <a href="#OpPoDyn.solve_powerflow"><code>solve_powerflow</code></a>, <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.initialize_componentwise"><code>initialize_componentwise</code></a>, <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.interface_values"><code>interface_values</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/powerflow.jl#L204-L239">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.show_powerflow" href="#OpPoDyn.show_powerflow"><code>OpPoDyn.show_powerflow</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">show_powerflow(s::NWState/Network)</code></pre><p>Display power flow results in a tabular format.</p><p>Extract and format power flow solution data from a network state, showing bus-level information including voltage magnitudes, phase angles, active power, and reactive power.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/powerflow.jl#L229-L236">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.powerflow_model" href="#OpPoDyn.powerflow_model"><code>OpPoDyn.powerflow_model</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">powerflow_model(cf::NetworkDynamics.ComponentModel)</code></pre><p>Extract or create a power flow component model from a dynamic component model.</p><ol><li>If the component has <code>:pfmodel</code> metadata, use that model (after validation)</li><li>If the component is already a valid power flow model (i.e. no ODE, just constraints), return it as-is</li></ol><p><strong>Returns</strong></p><ul><li>A component model suitable for power flow analysis (no dynamics)</li></ul><p><strong>Validation</strong></p><p>The returned model must satisfy <a href="#OpPoDyn.ispfmodel"><code>ispfmodel</code></a> criteria:</p><ul><li>Either no states or zero mass matrix (no dynamics)</li></ul><p>See also: <a href="#OpPoDyn.ispfmodel"><code>ispfmodel</code></a>, <a href="#OpPoDyn.pfSlack"><code>pfSlack</code></a>, <a href="#OpPoDyn.pfPV"><code>pfPV</code></a>, <a href="#OpPoDyn.pfPQ"><code>pfPQ</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/powerflow.jl#L79-L95">source</a></section><section><div><pre><code class="language-julia hljs">powerflow_model(nw::Network)</code></pre><p>Create a power flow network model from a dynamic network model.</p><p>This method applies <a href="#OpPoDyn.powerflow_model"><code>powerflow_model</code></a> to all vertex and edge components in the network, creating a new network suitable for steady-state power flow analysis.</p><p>Returns a new <code>Network</code> with the same graph structure but power flow component models</p><p>See also: <a href="#OpPoDyn.solve_powerflow"><code>solve_powerflow</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/powerflow.jl#L112-L123">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.ispfmodel" href="#OpPoDyn.ispfmodel"><code>OpPoDyn.ispfmodel</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ispfmodel(cf::NetworkDynamics.ComponentModel)</code></pre><p>Check if a component model is suitable for power flow analysis.</p><p>A component model is considered a valid power flow model if it has no dynamics, i.e., either no states or a zero mass matrix.</p><p><strong>Returns</strong></p><ul><li><code>true</code> if the component is suitable for power flow analysis</li><li><code>false</code> otherwise</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/powerflow.jl#L59-L70">source</a></section></article><h2 id="Initialization"><a class="docs-heading-anchor" href="#Initialization">Initialization</a><a id="Initialization-1"></a><a class="docs-heading-anchor-permalink" href="#Initialization" title="Permalink"></a></h2><h3 id="Powerflow-dependent-constraints-and-formulas"><a class="docs-heading-anchor" href="#Powerflow-dependent-constraints-and-formulas">Powerflow dependent constraints and formulas</a><a id="Powerflow-dependent-constraints-and-formulas-1"></a><a class="docs-heading-anchor-permalink" href="#Powerflow-dependent-constraints-and-formulas" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.PFInitConstraint" href="#OpPoDyn.PFInitConstraint"><code>OpPoDyn.PFInitConstraint</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct PFInitConstraint{F}
PFInitConstraint(f, sym, pfsym, dim)</code></pre><p>A representation of an additional constraint that is applied during the initialization phase of a component. In contrast to a <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.InitConstraint"><code>InitConstraint</code></a>, this constraint may access additional variables which are available in the full <code>NWState</code> of the solved power flow!</p><p>Crucially, this is only necessary for constraints, which cannot be expressed in terms of the <strong>interface variables</strong> (voltages and currents).</p><p>See also: <a href="#OpPoDyn.@pfinitconstraint"><code>@pfinitconstraint</code></a> for a macro to create such constraints, <a href="#OpPoDyn.PFInitConstraint"><code>PFInitConstraint</code></a>, <a href="#OpPoDyn.set_pfinitconstraint!"><code>set_pfinitconstraint!</code></a>, <a href="#OpPoDyn.add_pfinitconstraint!"><code>add_pfinitconstraint!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/pfinitconstraint.jl#L1-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.@pfinitconstraint" href="#OpPoDyn.@pfinitconstraint"><code>OpPoDyn.@pfinitconstraint</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@pfinitconstraint expr
@pfinitconstraint begin
    constraint1
    constraint2
end</code></pre><p>Create a <a href="#OpPoDyn.PFInitConstraint"><code>PFInitConstraint</code></a> using macro syntax. Component variables are accessed with <code>:symbol</code> and power flow state variables with <code>@pf :symbol</code>. Multiple constraints can be defined in a begin...end block.</p><p>See also: <a href="#OpPoDyn.PFInitConstraint"><code>PFInitConstraint</code></a>, <a href="#OpPoDyn.set_pfinitconstraint!"><code>set_pfinitconstraint!</code></a>, <a href="#OpPoDyn.add_pfinitconstraint!"><code>add_pfinitconstraint!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/pfinitconstraint.jl#L71-L83">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.PFInitFormula" href="#OpPoDyn.PFInitFormula"><code>OpPoDyn.PFInitFormula</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct PFInitFormula{F}
PFInitFormula(f, outsym, sym, pfsym)</code></pre><p>A representation of an initialization formula that is applied during the initialization phase of a component. In contrast to a <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.InitFormula"><code>InitFormula</code></a>, this formula may access additional variables which are available in the full <code>NWState</code> of the solved power flow!</p><p>Crucially, this is only necessary for formulas, which cannot be expressed in terms of the <strong>interface variables</strong> (voltages and currents).</p><p>Similar to InitFormula, this sets defaults rather than adding constraint equations. The formula is applied early in the initialization pipeline before constraints are solved.</p><p>See also: <a href="#OpPoDyn.@pfinitformula"><code>@pfinitformula</code></a> for a macro to create such formulas, <a href="#OpPoDyn.PFInitFormula"><code>PFInitFormula</code></a>, <a href="#OpPoDyn.set_pfinitformula!"><code>set_pfinitformula!</code></a>, <a href="#OpPoDyn.add_pfinitformula!"><code>add_pfinitformula!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/pfinitconstraint.jl#L35-L52">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.@pfinitformula" href="#OpPoDyn.@pfinitformula"><code>OpPoDyn.@pfinitformula</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@pfinitformula expr
@pfinitformula begin
    :var1 = expr1
    :var2 = expr2
end</code></pre><p>Create a <a href="#OpPoDyn.PFInitFormula"><code>PFInitFormula</code></a> using macro syntax. Component variables are accessed with <code>:symbol</code> and power flow state variables with <code>@pf :symbol</code>. Multiple formulas can be defined in a begin...end block.</p><p>Unlike constraints, formulas use assignment syntax (<code>:var = expression</code>) to set variable values during initialization. The left-hand side specifies output variables, and the right-hand side can access both component variables and power flow state variables.</p><p>See also: <a href="#OpPoDyn.PFInitFormula"><code>PFInitFormula</code></a>, <a href="#OpPoDyn.set_pfinitformula!"><code>set_pfinitformula!</code></a>, <a href="#OpPoDyn.add_pfinitformula!"><code>add_pfinitformula!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/pfinitconstraint.jl#L136-L152">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.copy_pf_parameters" href="#OpPoDyn.copy_pf_parameters"><code>OpPoDyn.copy_pf_parameters</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">copy_pf_parameters(cm::ComponentModel) -&gt; PFInitFormula</code></pre><p>Creates a <a href="#OpPoDyn.PFInitFormula"><code>PFInitFormula</code></a> that copies all parameters from the powerflow model to the component model. This formula can then be added to the component using <a href="#OpPoDyn.add_pfinitformula!"><code>add_pfinitformula!</code></a>.</p><p>This is useful for components where the powerflow and dynamic models should have identical parameter values, ensuring consistency between the two models.</p><p>See also: <a href="#OpPoDyn.PFInitFormula"><code>PFInitFormula</code></a>, <a href="#OpPoDyn.add_pfinitformula!"><code>add_pfinitformula!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/pfinitconstraint.jl#L495-L506">source</a></section></article><h3 id="Metadata-Accesors"><a class="docs-heading-anchor" href="#Metadata-Accesors">Metadata Accesors</a><a id="Metadata-Accesors-1"></a><a class="docs-heading-anchor-permalink" href="#Metadata-Accesors" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.add_pfinitformula!" href="#OpPoDyn.add_pfinitformula!"><code>OpPoDyn.add_pfinitformula!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_pfinitformula!(c::NetworkDynamics.ComponentModel, formula::PFInitFormula) -&gt; Bool
add_pfinitformula!(nw::Network, idx::Union{VIndex,EIndex}, formula) -&gt; Bool</code></pre><p>Adds a new initialization formula which depends on the powerflow solution to the component. If formulas already exist, the new formula is added to the existing ones. If no formulas exist, this is equivalent to <code>set_pfinitformula!</code>.</p><p>Returns <code>true</code> if the formula was successfully added, <code>false</code> if it already exists.</p><p>See also <a href="#OpPoDyn.set_pfinitformula!"><code>set_pfinitformula!</code></a>, <a href="#OpPoDyn.delete_pfinitformulas!"><code>delete_pfinitformulas!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/pfinitconstraint.jl#L453-L464">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.set_pfinitformula!" href="#OpPoDyn.set_pfinitformula!"><code>OpPoDyn.set_pfinitformula!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">set_pfinitformula!(c::NetworkDynamics.ComponentModel, formula; check=true)
set_pfinitformula!(nw::Network, idx::Union{VIndex,EIndex}, formula; check=true)</code></pre><p>Sets initialization formulas which depend on the powerflow solution to the component. Accepts either a single <code>PFInitFormula</code> or a tuple of <code>PFInitFormula</code> objects. Overwrites any existing pf formulas. See also <a href="#OpPoDyn.delete_pfinitformulas!"><code>delete_pfinitformulas!</code></a>, <a href="#OpPoDyn.add_pfinitformula!"><code>add_pfinitformula!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/pfinitconstraint.jl#L439-L447">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.has_pfinitformula" href="#OpPoDyn.has_pfinitformula"><code>OpPoDyn.has_pfinitformula</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">has_pfinitformula(c::ComponentModel)
has_pfinitformula(nw::Network, idx::Union{VIndex,EIndex})</code></pre><p>Checks if the component has an initialization formula which depends on the pf state in metadata.</p><p>See also: <a href="#OpPoDyn.get_pfinitformulas"><code>get_pfinitformulas</code></a>, <a href="#OpPoDyn.set_pfinitformula!"><code>set_pfinitformula!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/pfinitconstraint.jl#L410-L417">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.get_pfinitformulas" href="#OpPoDyn.get_pfinitformulas"><code>OpPoDyn.get_pfinitformulas</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_pfinitformulas(c::NetworkDynamics.ComponentModel)
get_pfinitformulas(nw::Network, idx::Union{VIndex,EIndex})</code></pre><p>Retrieves the initialization formulas which depend on pf state for the component model. Returns a tuple of formulas, even if only one formula is present. May error if no formulas are present. Use <code>has_pfinitformula</code> to check first.</p><p>See also: <a href="#OpPoDyn.has_pfinitformula"><code>has_pfinitformula</code></a>, <a href="#OpPoDyn.set_pfinitformula!"><code>set_pfinitformula!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/pfinitconstraint.jl#L422-L431">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.delete_pfinitformulas!" href="#OpPoDyn.delete_pfinitformulas!"><code>OpPoDyn.delete_pfinitformulas!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">delete_pfinitformulas!(c::NetworkDynamics.ComponentModel)
delete_pfinitformulas!(nw::Network, idx::Union{VIndex,EIndex})</code></pre><p>Removes the powerflow dependent initialization formula from the component model, or from a component referenced by <code>idx</code> in a network. Returns <code>true</code> if the formula existed and was removed, <code>false</code> otherwise.</p><p>See also: <a href="#OpPoDyn.set_pfinitformula!"><code>set_pfinitformula!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/pfinitconstraint.jl#L481-L490">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.add_pfinitconstraint!" href="#OpPoDyn.add_pfinitconstraint!"><code>OpPoDyn.add_pfinitconstraint!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_pfinitconstraint!(c::NetworkDynamics.ComponentModel, constraint::PFInitConstraint) -&gt; Bool
add_pfinitconstraint!(nw::Network, idx::Union{VIndex,EIndex}, constraint) -&gt; Bool</code></pre><p>Adds a new initialization constraint which depends on the powerflow solution to the component. If constraints already exist, the new constraint is added to the existing ones. If no constraints exist, this is equivalent to <code>set_pfinitconstraint!</code>.</p><p>Returns <code>true</code> if the constraint was successfully added, <code>false</code> if it already exists.</p><p>See also <a href="#OpPoDyn.set_pfinitconstraint!"><code>set_pfinitconstraint!</code></a>, <a href="#OpPoDyn.delete_pfinitconstraints!"><code>delete_pfinitconstraints!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/pfinitconstraint.jl#L364-L375">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.set_pfinitconstraint!" href="#OpPoDyn.set_pfinitconstraint!"><code>OpPoDyn.set_pfinitconstraint!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">set_pfinitconstraint!(c::NetworkDynamics.ComponentModel, constraint; check=true)
set_pfinitconstraint!(nw::Network, idx::Union{VIndex,EIndex}, constraint; check=true)</code></pre><p>Sets initialization constraints which depend on the powerflow solution to the component. Accepts either a single <code>PFInitConstraint</code> or a tuple of <code>PFInitConstraint</code> objects. Overwrites any existing pf constraints. See also <a href="#OpPoDyn.delete_pfinitconstraints!"><code>delete_pfinitconstraints!</code></a>, <a href="#OpPoDyn.add_pfinitconstraint!"><code>add_pfinitconstraint!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/pfinitconstraint.jl#L350-L358">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.has_pfinitconstraint" href="#OpPoDyn.has_pfinitconstraint"><code>OpPoDyn.has_pfinitconstraint</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">has_pfinitconstraint(c::ComponentModel)
has_pfinitconstraint(nw::Network, idx::Union{VIndex,EIndex})</code></pre><p>Checks if the component has an initialization constraint which depends on the pf state in metadata.</p><p>See also: <a href="#OpPoDyn.get_pfinitconstraints"><code>get_pfinitconstraints</code></a>, <a href="#OpPoDyn.set_pfinitconstraint!"><code>set_pfinitconstraint!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/pfinitconstraint.jl#L321-L328">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.get_pfinitconstraints" href="#OpPoDyn.get_pfinitconstraints"><code>OpPoDyn.get_pfinitconstraints</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_pfinitconstraints(c::NetworkDynamics.ComponentModel)
get_pfinitconstraints(nw::Network, idx::Union{VIndex,EIndex})</code></pre><p>Retrieves the initialization constraints which depend on pf state for the component model. Returns a tuple of constraints, even if only one constraint is present. May error if no constraints are present. Use <code>has_pfinitconstraint</code> to check first.</p><p>See also: <a href="#OpPoDyn.has_pfinitconstraint"><code>has_pfinitconstraint</code></a>, <a href="#OpPoDyn.set_pfinitconstraint!"><code>set_pfinitconstraint!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/pfinitconstraint.jl#L333-L342">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpPoDyn.delete_pfinitconstraints!" href="#OpPoDyn.delete_pfinitconstraints!"><code>OpPoDyn.delete_pfinitconstraints!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">delete_pfinitconstraints!(c::NetworkDynamics.ComponentModel)
delete_pfinitconstraints!(nw::Network, idx::Union{VIndex,EIndex})</code></pre><p>Removes the powerflow dependent initialization constraint from the component model, or from a component referenced by <code>idx</code> in a network. Returns <code>true</code> if the constraint existed and was removed, <code>false</code> otherwise.</p><p>See also: <a href="#OpPoDyn.set_pfinitconstraint!"><code>set_pfinitconstraint!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/OpPoDyn.jl/blob/c1e9b37bee6958727cc37d015f9c30b6a5a2c3d2/src/pfinitconstraint.jl#L392-L401">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../initialization/">« Initialization</a><a class="docs-footer-nextpage" href="../generated/ieee9bus/">IEEE 9Bus Example »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Wednesday 16 July 2025 09:28">Wednesday 16 July 2025</span>. Using Julia version 1.12.0-rc1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
